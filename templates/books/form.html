{% extends 'base.html' %}
{% from 'bootstrap5/form.html' import render_form, render_field %}

{% block content %}
<h2>{% if book %}Sửa sách{% else %}Thêm sách mới{% endif %}</h2>
<div class="card">
    <div class="card-body">
        <form method="POST" enctype="multipart/form-data">
            {{ form.hidden_tag() }}
            <div class="row">
                <div class="col-md-8">
                    {{ render_field(form.title) }}
                    {{ render_field(form.author) }}
                    {{ render_field(form.genre) }}
                    {{ render_field(form.isbn) }}
                    {{ render_field(form.available_copies) }}
                    {{ render_field(form.description, rows=5) }}
                </div>
                <div class="col-md-4">
                    {{ render_field(form.cover_image) }}
                    {% if book and book.cover_image %}
                        <img src="{{ url_for('static', filename=book.cover_image) }}" class="img-fluid rounded mt-2" style="max-height: 200px;">
                    {% endif %}
                </div>
            </div>
            <div class="mt-3">
                {{ form.submit(class="btn btn-primary") }}
                <a href="{{ url_for('books') }}" class="btn btn-secondary">Quay lại</a>
            </div>
        </form>
    </div>
</div>
{% endblock %}